<div class="main-wrapper">
  <mat-checkbox *ngIf="modifyMultiple" class="checkbox" [(ngModel)]="file.isSelected" (change)="checkboxClicked.next()">
  </mat-checkbox>

  <div class="wrapper" [ngClass]="{'odd-wrapper': isOdd}">
    <!-- Media is a video -->
    <img [src]="imgSource" class="thumbnail" (click)="openMediaClick()" />

    <div class="content-wrapper">
      <div style="padding: 10px">
        <div class="filename-container">
          {{file.name}}
        </div>

        <!-- Tags -->
        <mat-chip-list>
          <mat-chip *ngIf="file.mimetype.includes('video')" class="chip-video my-chip-xs ellipse-text">Video</mat-chip>
          <mat-chip *ngIf="file.mimetype.includes('image')" class="chip-image my-chip-xs ellipse-text">Image</mat-chip>
          <mat-chip *ngFor="let tag of file.tags" [style.background-color]="tag.backgroundColor"
            style="max-width: 200px;" class="ellipse-text my-chip-xs" [style.color]="tag.textColor"
            [matTooltip]="tag.name" matTooltipClass="organizer-tooltip" (click)="viewMediaWithTag(tag)">
            {{ tag.name }}
          </mat-chip>
        </mat-chip-list>
      </div>
      <div class="button-container">
        <span style="margin-right: 15px; font-size: 12px; margin-top: auto; margin-bottom: auto;"
          matTooltip="Date Added: {{file.dateAdded | date:'medium'}}" matTooltipClass="organizer-tooltip">
          <i class="fas fa-calendar-plus"></i>&nbsp; {{file.dateAdded | date}}
        </span>
        <span style="margin-right: 15px; font-size: 12px; margin-top: auto; margin-bottom: auto;"
          matTooltip="Total Views: {{file.views}}" matTooltipClass="organizer-tooltip">
          <i class="far fa-eye"></i>&nbsp; {{file.views}}
        </span>
        <button mat-icon-button (click)="favoriteToggle()">
          <i *ngIf="!file.isFavorite" class="far fa-star"></i>
          <i *ngIf="file.isFavorite" class="fas fa-star"></i>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>

<mat-menu #menu="matMenu">
  <button mat-menu-item (click)="showMediaInfo()">
    <div class="menu-button-wrapper">
      <i class="fas fa-info menu-button-icon"></i>
      <div>Information</div>
    </div>
  </button>
  <button mat-menu-item (click)="showTags()">
    <div class="menu-button-wrapper">
      <i class="fas fa-tags menu-button-icon"></i>
      <span>Modify Tags</span>
    </div>
  </button>
  <button mat-menu-item>
    <div class="menu-button-wrapper">
      <i class="fas fa-trash-alt menu-button-icon"></i>
      <span>Hide Media</span>
    </div>
  </button>
</mat-menu>
